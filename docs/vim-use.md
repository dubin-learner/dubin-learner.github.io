# Vim常见使用技巧

本文将记录一些常见的Vim使用技巧，基本上都是在工作中使用到的。

## 删除相关

### 删除包含特定模式的行
```shell
:g/pattern/d
```
例如删除空行：`:g/^$/d`

### 删除不包含特定模式的行
```shell
:v/pattern/d
```

### 对每行只保留特定模式而删除其他内容
```shell
:%s/^.*\(pattern\).*$/\1/g
```
本质上是Vim中字符串的替换，这里用到了正则表达式中的反向引用"\1"，即引用匹配中第一个组（第一个小括号内）的内容。注意在Vim的命令行中小括号并不是特殊字符，需要加转义字符'\'才有分组功能。

### 删除包含特定字符串的行，并在删除前提示
```shell
:%s/^.*pattern.*$//c
```
本质上还是替换，用空字符替换一整行。

### 删除命令实例
- 处理字符串`/123/456/789/109/example.txt`，怎么删除到最后一个`/`，然后得到`example.txt`？

**答：** `0dte`。其中，`0`：移动到行首，`dte`：删除到第一个字母`e`的位置。

- 处理字符串`/123/456/789/ef/109/example.txt`，怎么删除到最后一个`/`，然后得到`example.txt`？

**答：** `$T/d0`。其中，`$`：移动至行尾，`T/`：从后向前搜索到第一个`/`字符的位置，`d0`：删除到行首。或者`d/ex`，删除到第一个`ex`出现的位置。

## 光标移动相关
> waiting for writing ...

## 参考文章
1. [Vim的匹配删除](https://blog.csdn.net/yrx0619/article/details/81032610)
2. [Vim替换反向引用，模式匹配回溯引用...](https://www.qinziheng.com/vim/5651.htm)
3. [Vim光标快速移动技巧总结](https://blog.csdn.net/llzhang_fly/article/details/80474966)
