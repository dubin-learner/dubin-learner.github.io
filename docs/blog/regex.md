# 正则表达式 regular expression

通过正则表达式可以匹配具有一定模式的字符串，在各种场景中被广泛应用，例如编译原理中的词法分析。

## 元字符
正则表达式由一些普通字符和一些**元字符（metacharacters）**组成。普通字符包括大小写的字母和数字，而元字符则具有特殊的含义。

|元字符|描述|
|-|-|
|`.`|匹配除`\n`和`\r`之外的任何单个字符。要匹配包括`\n`和`\r`在内的任何字符，请使用像`[\s\S]`的模式|
|`\w`|匹配包括下划线的任何单词字符。类似但不等价于`[A-Za-z0-9_]`，这里的“单词”字符使用Unicode字符集|
|`\s`|匹配任何不可见字符，包括空格、制表符、换页符等等。等价于`[\f\n\r\t\v]`|
|`\d`|匹配一个数字字符。等价于`[0-9]`。grep要加上-P，perl正则支持|
|`\b`|匹配一个单词的边界，也就是指单词和空格间的位置（即正则表达式的“匹配”由两种概念，一种是匹配字符，一种是匹配位置，这里的`\b`就是匹配位置的）<br>例如，`er\b`可以匹配`never`中的`er`，但不能匹配`verb`中的`er`；`\b1_`可以匹配`1_23`中的`1_`，但不能匹配`21_3`中的`1_`|
|`^`|匹配输入字行首。如果设置了RegExp对象的Multiline属性，`^`也匹配`\n`或`\r`之后的位置|
|`$`|匹配输入字行尾。如果设置了RegExp对象的Multiline属性，`$`也匹配`\n`或`\r`之前的位置|

## 字符转义
如果想要查找元字符本身的话，可以通过`\`来消除元字符的特殊含义。当然，要查找`\`这个字符本身也需要进行转义。

## 重复
常用的重复字符有`*`和`+`等，也可以通过大括号`{}`来指定重复次数的范围。

|元字符|描述|
|-|-|
|`*`|匹配前面的子表达式任意次。例如，`zo*`能够匹配`z`，也能匹配`zo`以及`zoo`。等价于`{0,}`|
|`+`|匹配前面的子表达式一次或者多次（大于等于一次）。例如，`zo+`能够匹配`zo`以及`zoo`，但不能匹配`z`。等价于`{1,}`|
|`?`|匹配前面的子表达式零次或者一次。例如，`do(es)?`可以匹配`do`以及`does`。等价于`{0,1}`|
|`{n}`|n是一个非负整数。匹配确定的n次。|
|`{n,}`|n是一个非负整数，至少匹配n次。|
|`{n,m}`|m和n均为非负整数，其中n<=m。最少匹配n次且最多匹配m次。|

## 字符类


## 学习资源

在这里罗列一些学习资源：
1. [LEARN REGEX THE EASY WAY](https://github.com/ziishaned/learn-regex/blob/master/translations/README-cn.md)
Github上的一篇教程，个人感觉中文版有些晦涩。提供了[在线练习](https://regex101.com/r/1paXsy/1)的功能，这一点还是很好的。
其中第4、5两节的内容（**零宽度断言和标志**）应该是比较高级的技巧。
2. [RegexOne](https://regexone.com/) 在线练习网站，里面的题目循序渐进。
并且有详细的解答，全部过一遍不需要很长时间。
3. [Regex Golf](https://alf.nu/RegexGolf) 在线练习网站，相比于RegexOne，这个就难多了。
类似闯关的过程，做出一道题才会出现几个新的题目，而且里面会用到不常用的技巧。
这个目前我只做了几道题，后续应该还会补完。参考文章中有其他人总结的题解。
4. [Regular-Expressions.info](https://www.regular-expressions.info/reference.html) 比较详细的正则表达式介绍，递归匹配就是在这里学习的。配合[在线练习](https://regex101.com/r/1paXsy/1)网站更佳。

## 查缺补漏

这一部分将记录新学习到的正则表达式相关内容，主要是从Regex Golf的练习中见识到的。

### "\b"

> \b 是正则表达式规定的一个特殊代码（也有人称之为元字符，metacharacter），代表着单词的开头或结尾，也就是单词的分界处。虽然通常英文的单词是由空格，标点符号或者换行来分隔的，但是 \b 并不匹配这些单词分隔字符中的任何一个，它只匹配一个位置。

> 如果需要更精确的说法，\b 匹配这样的位置：它的前一个字符和后一个字符不全是(一个是,一个不是或不存在) \w。

### "\1"，"\2" ...

反向引用。在正则表达式中，小括号"("和")"之内的子表达式可以作为一个分组，在匹配后单独输出。"\1"就可以引用这些组，代表第一个组匹配的内容。"\2"代表第二个组匹配的内容，以此类推。

例如：`(abc)d\1`就可以匹配`abcdabc`这样的字符串。


## 参考文章
1. [Git/SQL/正则表达式的在线练习平台我给你找好了](https://zhuanlan.zhihu.com/p/107756607)
2. [正则表达学习之Regex Golf解答与分析](https://my.oschina.net/u/3418229/blog/885817)
3. [正则表达式\b](https://www.cnblogs.com/litmmp/p/4925374.html)
4. [字符串正则表达式](https://mp.weixin.qq.com/s/KlXRb2L88StTDd4H9xUMEA)
